!function(a,o,i){"use strict";var n="lightzoom",e={speed:400,imgPadding:10,overlayOpacity:"0.5",viewTitle:!1,isOverlayClickClosing:!1,isWindowClickClosing:!1,isEscClosing:!1};function t(i,t){this.element=i,this.settings=a.extend({},e,t),this._defaults=e,this._name=n,this.init()}a.extend(t.prototype,{init:function(){var t=this;t.build(),a(i).on("click","#lz-close",function(i){i.preventDefault(),t.closeZoom()}),t.settings.isWindowClickClosing?a(i).on("click","#lz-container",function(i){t.closeZoom()}):t.settings.isOverlayClickClosing&&a(i).on("click","#lz-overlay",function(i){t.closeZoom()}),t.settings.isEscClosing&&a(i).keydown(function(i){27===i.which&&t.closeZoom()}),t.resize()},build:function(){var d=this;a(this.element).on("click",function(i){i.preventDefault(),a("body").append('<div id="lz-container">                 <div id="lz-box">                   <div id="lz-overlay"></div>                 </div>                 <div id="loading-center">                   <div id="loading-center-absolute">                     <div class="object" id="object_one"></div>                     <div class="object" id="object_two"></div>                     <div class="object" id="object_three"></div>                  </div>                 </div>               </div>');var t=a("#lz-box"),n=a(this).children("img"),e=a(this).attr("href"),o=n.attr("title"),s={opacity:d.settings.overlayOpacity};a("#lz-overlay").css(s),a("#lz-container").fadeIn({display:"block"}),a(new Image).attr("src",e).on("load",function(){t.append('<img src="'+e+'">'),d.showTitle(o),d.setPadding(o),d.setDim(),t.append('<a href="#" id="lz-close" title="Close">Close</a>'),a("#loading-center").remove(),a("#lz-box img").animate({opacity:1},d.settings.speed)})})},showTitle:function(i){this.settings.viewTitle&&i&&a("#lz-box").append("<p>"+i+"</p>")},setPadding:function(i){var t=0<this.settings.imgPadding?"#FFF":"none",n={padding:this.settings.viewTitle&&i?this.settings.imgPadding+"px "+this.settings.imgPadding+"px "+(this.settings.imgPadding+30)+"px "+this.settings.imgPadding+"px":this.settings.imgPadding,backgroundColor:t};a("#lz-box img").css(n)},setDim:function(){var i,t,n=o.innerWidth?o.innerWidth:a(o).width(),e=(o.innerHeight?o.innerHeight:a(o).height())<n?(i="100%","90%"):(i="90%","100%");"onorientationchange"in o&&o.addEventListener("orientationchange",function(){0===o.orientation?(i="90%",e="100%"):90!==o.orientation&&-90!==o.orientation||(i="100%",e="90%")},!1),t={maxWidth:i,maxHeight:e},a("#lz-box img").css(t)},closeZoom:function(){var i=this;a("#lz-container").fadeOut(i.settings.speed,function(){i.destroy()})},resize:function(){var i=this;a(o).resize(function(){i.setDim()}).resize()},destroy:function(){a("#lz-container").remove()}}),a.fn[n]=function(i){return this.each(function(){a.data(this,"plugin_"+n)||a.data(this,"plugin_"+n,new t(this,i))})}}(jQuery,window,document);